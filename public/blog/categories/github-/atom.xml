<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: github, | The Place]]></title>
  <link href="http://theplace.heroku.com/blog/categories/github-/atom.xml" rel="self"/>
  <link href="http://theplace.heroku.com/"/>
  <updated>2012-06-29T15:40:56+08:00</updated>
  <id>http://theplace.heroku.com/</id>
  <author>
    <name><![CDATA[curist]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress Github Plugin]]></title>
    <link href="http://theplace.heroku.com/blog/2012/06/25/octopress-github-plugin/"/>
    <updated>2012-06-25T17:44:00+08:00</updated>
    <id>http://theplace.heroku.com/blog/2012/06/25/octopress-github-plugin</id>
    <content type="html"><![CDATA[<p>不知道什麼時候壞的？</p>

<p>原因就是github廢掉v2的api了。</p>

<p>修改source/javascripts/github.js</p>

<p><div><script src='https://gist.github.com/2987686.js?file=github.js'></script>
<noscript><pre><code>var github = (function(){
  function render(target, repos){
    var i = 0, fragment = '', t = $(target)[0];

    for(i = 0; i &lt; repos.length; i++) {
      fragment += '&lt;li&gt;&lt;a href=&quot;'+repos[i].url+'&quot;&gt;'+repos[i].name+'&lt;/a&gt;&lt;p&gt;'+repos[i].description+'&lt;/p&gt;&lt;/li&gt;';
    }
    t.innerHTML = fragment;
  }
  return {
    showRepos: function(options){
      $.ajax({
          url: &quot;https://api.github.com/users/&quot;+options.user+&quot;/repos?callback=?&quot;
        , type: 'jsonp'
        , error: function (err) { $(options.target + ' li.loading').addClass('error').text(&quot;Error loading feed&quot;); }
        , success: function(data) {
          var repos = [];
          var _data = data.data;
          if (!_data) { return; }
          for (var i = 0; i &lt; _data.length; i++) {
            if (options.skip_forks &amp;&amp; _data[i].fork) { continue; }
            repos.push(_data[i]);
          }
          repos.sort(function(a, b) {
            var aDate = new Date(a.pushed_at).valueOf(),
                bDate = new Date(b.pushed_at).valueOf();

            if (aDate === bDate) { return 0; }
            return aDate &gt; bDate ? -1 : 1;
          });

          if (options.count) { repos.splice(options.count); }
          render(options.target, repos);
        }
      });
    }
  };
})();
</code></pre></noscript></div>
</p>

<h1>edit</h1>

<p>啊..改完後google才發現有人patch過了<a href="http://time.to.pullthepl.ug/blog/2012/6/13/fix-the-octopress-github-repo-sidebar-item/">here</a>
也進branch2.1了<a href="https://github.com/imathis/octopress/issues/620">there</a></p>
]]></content>
  </entry>
  
</feed>
